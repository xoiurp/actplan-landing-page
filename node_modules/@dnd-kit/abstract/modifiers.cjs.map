{"version":3,"sources":["src/modifiers/axis.ts","src/modifiers/boundingRectangle.ts","src/modifiers/snap.ts"],"names":["Modifier","configurator"],"mappings":"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","file":"modifiers.cjs","sourcesContent":["import {\n  configurator,\n  Modifier,\n  type DragOperation,\n  type DragDropManager,\n  type Draggable,\n  type Droppable,\n} from '@dnd-kit/abstract';\n\ninterface Options {\n  axis: 'x' | 'y';\n  value: number;\n}\n\nexport class AxisModifier extends Modifier<\n  DragDropManager<Draggable, Droppable>,\n  Options\n> {\n  apply({transform}: DragOperation) {\n    if (!this.options) {\n      return transform;\n    }\n\n    const {axis, value} = this.options;\n\n    return {\n      ...transform,\n      [axis]: value,\n    };\n  }\n\n  static configure = configurator(AxisModifier);\n}\n\nexport const RestrictToVerticalAxis = AxisModifier.configure({\n  axis: 'x',\n  value: 0,\n});\n\nexport const RestrictToHorizontalAxis = AxisModifier.configure({\n  axis: 'y',\n  value: 0,\n});\n","import type {BoundingRectangle, Coordinates, Shape} from '@dnd-kit/geometry';\n\nexport function restrictShapeToBoundingRectangle(\n  shape: Shape,\n  transform: Coordinates,\n  boundingRect: BoundingRectangle\n) {\n  const value = {\n    ...transform,\n  };\n\n  if (shape.boundingRectangle.top + transform.y <= boundingRect.top) {\n    value.y = boundingRect.top - shape.boundingRectangle.top;\n  } else if (\n    shape.boundingRectangle.bottom + transform.y >=\n    boundingRect.top + boundingRect.height\n  ) {\n    value.y =\n      boundingRect.top + boundingRect.height - shape.boundingRectangle.bottom;\n  }\n\n  if (shape.boundingRectangle.left + transform.x <= boundingRect.left) {\n    value.x = boundingRect.left - shape.boundingRectangle.left;\n  } else if (\n    shape.boundingRectangle.right + transform.x >=\n    boundingRect.left + boundingRect.width\n  ) {\n    value.x =\n      boundingRect.left + boundingRect.width - shape.boundingRectangle.right;\n  }\n\n  return value;\n}\n","import {\n  configurator,\n  Modifier,\n  type DragOperation,\n  type DragDropManager,\n  type Draggable,\n  type Droppable,\n} from '@dnd-kit/abstract';\n\ninterface Options {\n  size: number | {x: number; y: number};\n}\n\nexport class SnapModifier extends Modifier<\n  DragDropManager<Draggable, Droppable>,\n  Options\n> {\n  apply({transform}: DragOperation) {\n    const {size = 20} = this.options ?? {};\n    const x = typeof size === 'number' ? size : size.x;\n    const y = typeof size === 'number' ? size : size.y;\n\n    return {\n      ...transform,\n      x: Math.ceil(transform.x / x) * x,\n      y: Math.ceil(transform.y / y) * y,\n    };\n  }\n\n  static configure = configurator(SnapModifier);\n}\n"]}